import{c as w,a as E,r as s,j as e,b as o,N as h,O as L}from"./index-DMoaKUvX.js";import{a as M}from"./moviesApi-C8tOsX0Q.js";const k="https://image.tmdb.org/t/p/w500",D=()=>{const{movieId:n}=w(),t=E(),x=s.useRef(t.state?.from??"/movies"),[r,j]=s.useState(null),[v,c]=s.useState(!1),[u,l]=s.useState(!1);if(s.useEffect(()=>{(async()=>{try{c(!0),l(!1);const a=await M(n);j(a)}catch(a){l(!0),console.error("Error fetching movie details:",a)}finally{c(!1)}})()},[n]),v)return e.jsx("div",{children:"Loading..."});if(u)return e.jsx("div",{children:"Error loading movie details."});if(!r)return null;const{title:d,overview:f,poster_path:m,release_date:p,genres:g=[]}=r;return e.jsxs("div",{children:[e.jsx(o,{to:x.current,children:"â† Back to Movies"}),e.jsx("hr",{}),e.jsx("h2",{children:d}),m&&e.jsx("img",{src:`${k}${r.poster_path}`,alt:d,width:"300"}),e.jsx("p",{children:f}),e.jsx("p",{children:p}),e.jsx("h3",{children:"Genres"}),e.jsx("ul",{children:g.map(i=>e.jsx("li",{children:i.name},i.id))}),e.jsx("hr",{}),e.jsxs("nav",{children:[e.jsx(h,{to:"cast",children:"Cast"})," | ",e.jsx(h,{to:"reviews",children:"Reviews"})]}),e.jsx(o,{to:"cast",state:{from:t},children:"Cast"}),e.jsx(o,{to:"reviews",state:{from:t},children:"Reviews"}),e.jsx("hr",{}),e.jsx(L,{})]})};export{D as default};
