import{u as d,r,j as e,L as x}from"./index-DMoaKUvX.js";import{M as v}from"./MovieList-CJQIKDlE.js";import{s as y}from"./moviesApi-C8tOsX0Q.js";const j="_wrapper_34grg_1",b="_hero_34grg_9",S="_title_34grg_17",N="_subtitle_34grg_29",M="_searchForm_34grg_43",w="_input_34grg_57",E="_button_34grg_93",F="_error_34grg_123",L="_empty_34grg_131",t={wrapper:j,hero:b,title:S,subtitle:N,searchForm:M,input:w,button:E,error:F,empty:L},C=()=>{const[h,p]=d(),s=h.get("query")??"",[o,g]=r.useState(s),[n,_]=r.useState([]),[c,u]=r.useState(!1),[i,m]=r.useState(!1);r.useEffect(()=>{if(!s)return;(async()=>{try{u(!0),m(!1);const l=await y(s);_(l)}catch(l){m(!0),console.error("Error fetching movies:",l)}finally{u(!1)}})()},[s]);const f=a=>{a.preventDefault(),o.trim()&&p({query:o.trim()})};return e.jsx("div",{className:t.wrapper,children:e.jsxs("div",{className:t.container,children:[e.jsxs("section",{className:t.hero,children:[e.jsx("h1",{className:t.title,children:"Search Movies"}),e.jsx("p",{className:t.subtitle,children:"Find your favorite films instantly."})]}),e.jsxs("form",{onSubmit:f,className:t.searchForm,children:[e.jsx("input",{type:"text",value:o,onChange:a=>g(a.target.value),placeholder:"Search for a movie...",className:t.input}),e.jsx("button",{type:"submit",className:t.button,children:"Search"})]}),c&&e.jsx(x,{}),i&&e.jsx("p",{className:t.error,children:"Something went wrong."}),!c&&!i&&n.length>0&&e.jsx(v,{movies:n}),!c&&!i&&s&&n.length===0&&e.jsx("p",{className:t.empty,children:"No results found."})]})})};export{C as default};
